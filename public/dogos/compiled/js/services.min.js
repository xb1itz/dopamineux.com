/*! muzli 2017-06-12 */

angular.module("muzli").factory("postsService",["$q","$http","$timeout","settings",function(a,b,c,d){return{getPosts:function(c){var d=a.defer();return b.get("api/posts/",{params:c}).then(function(a){var b=new Date(localStorage.lastFetchTime);angular.forEach(a.data,function(a){new Date(a.createdAt)>b&&(a.isNew=!0)}),d.resolve(a.data)}),d.promise}}}]),angular.module("muzli").factory("trackingService",["$http","$q","settings",function(a,b,c){function d(){window.ga&&(ga("create",c.tracker.GA_TRACKING_CODE,"auto"),ga("require","displayfeatures"))}function e(a,b){if(window.ga){var c=$.Deferred(),d=angular.extend(b,{hitType:a,hitCallback:function(a){c.resolve(a)}});try{window.ga("send",d)}catch(e){console.error("Google analytics error",e)}}}c.apiLocationUrl,b.defer();return d(),{ga:{trackPageView:function(a,b){e("pageview",{page:a,title:b})},trackEvent:function(a,b,c,d){e("event",{eventCategory:a,eventAction:b,eventLabel:c,eventValue:d})},trackException:function(a){e("exception",{exDescription:a})},trackTiming:function(a,b,c,d){e("timing",{timingCategory:a,timingVar:b,timingValue:c,timingLabel:d})}}}}]);
//# sourceMappingURL=services.min.js.map