/*! muzli 2017-06-01 */

angular.module("muzli").directive("scrollEvents",["$timeout",function(a){return{restrict:"A",link:function(a,b,c){var d,e,f,g,h,i=2,j=!1,k=function(){$(f).scroll(function(b){d&&clearTimeout(d),d=setTimeout(function(){a.checkScrollPosition()},200)}),$(f).bind("mousewheel",function(b){d&&clearTimeout(d),b.originalEvent.wheelDelta/120<0&&(e||(a.checkScrollPosition(),e=setTimeout(function(){clearTimeout(e),e=!1},500)))})};if(a.checkScrollPosition=function(){var b=f===window?window.scrollY:g.scrollTop,c=g.scrollHeight-g.clientHeight;c-=b,(c+=h?h.position().top:0)<i*g.clientHeight&&a.$broadcast("scrollAtBottom")},a.initScrollEvents=function(){b.parents(".mCustomScrollBox").length&&(j=!0,g=b.parents(".mCustomScrollBox").get(0),h=b.parent(),f=g),k()},"manual"!==c.scrollEventsInit){if("window"===c.scrollEventsInit)return f=window,g=$("body").get(0),void k();g=b.parent().get(0),f=$(g).is("body")?window:g,k()}}}}]);
//# sourceMappingURL=directives.min.js.map